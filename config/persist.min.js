/**
 * Minified by jsDelivr using UglifyJS v3.0.24.
 * Original file: /npm/persist-js@0.3.1/src/persist.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(){if(!window.google||!google.gears){var e=null;if("undefined"!=typeof GearsFactory)e=new GearsFactory;else try{-1!=(e=new ActiveXObject("Gears.Factory")).getBuildInfo().indexOf("ie_mobile")&&e.privateSetGlobalObject(this)}catch(t){void 0!==navigator.mimeTypes&&navigator.mimeTypes["application/x-googlegears"]&&((e=document.createElement("object")).style.display="none",e.width=0,e.height=0,e.type="application/x-googlegears",document.documentElement.appendChild(e))}e&&(window.google||(google={}),google.gears||(google.gears={factory:e}))}}(),Persist=function(){var e,t,i,r,o,n;n=function(){var e,t=["expires","path","domain"],i=escape,r=unescape,o=document,n=function(){var e=new Date;return e.setTime(e.getTime()),e},s=function(e,r){var o,n,s=[],a=arguments.length>2?arguments[2]:{};s.push(i(e)+"="+i(r));for(var l=0;l<t.length;l++)(n=a[o=t[l]])&&s.push(o+"="+n);return a.secure&&s.push("secure"),s.join("; ")};return e={set:function(e,t){var i=arguments.length>2?arguments[2]:{},r=n(),a={};if(i.expires)if(-1==i.expires)a.expires=-1;else{var l=864e5*i.expires;a.expires=new Date(r.getTime()+l),a.expires=a.expires.toGMTString()}for(var c=["path","domain","secure"],u=0;u<c.length;u++)i[c[u]]&&(a[c[u]]=i[c[u]]);var h=s(e,t,a);return o.cookie=h,t},has:function(e){e=i(e);var t=o.cookie,r=t.indexOf(e+"="),n=(e.length,t.substring(0,e.length));return!(!r&&e!=n||r<0)},get:function(e){e=i(e);var t,n=o.cookie,s=n.indexOf(e+"="),a=s+e.length+1,l=n.substring(0,e.length);return!s&&e!=l||s<0?null:((t=n.indexOf(";",a))<0&&(t=n.length),r(n.substring(a,t)))},remove:function(t){var i=e.get(t),r={expires:"Thu, 01-Jan-1970 00:00:01 GMT"};return o.cookie=s(t,"",r),i},keys:function(){for(var e,t=o.cookie.split("; "),i=[],n=0;n<t.length;n++)e=t[n].split("="),i.push(r(e[0]));return i},all:function(){for(var e,t=o.cookie.split("; "),i=[],n=0;n<t.length;n++)e=t[n].split("="),i.push([r(e[0]),r(e[1])]);return i},version:"0.2.1",enabled:!1},e.enabled=function(){var e="__EC_TEST__",t=new Date;return t=t.toGMTString(),this.set(e,t),this.enabled=this.remove(e)==t,this.enabled}.call(e),e}();var s=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]==t)return i;return-1};o=function(){},i=function(e){return"PS"+e.replace(/_/g,"__").replace(/ /g,"_s")};var a={search_order:["localstorage","globalstorage","gears","cookie","ie","flash"],name_re:/^[a-z][a-z0-9_ \-]+$/i,methods:["init","get","set","remove","load","save","iterate"],sql:{version:"1",create:"CREATE TABLE IF NOT EXISTS persist_data (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)",get:"SELECT v FROM persist_data WHERE k = ?",set:"INSERT INTO persist_data(k, v) VALUES (?, ?)",remove:"DELETE FROM persist_data WHERE k = ?",keys:"SELECT * FROM persist_data"},flash:{div_id:"_persist_flash_wrap",id:"_persist_flash",path:"persist.swf",size:{w:1,h:1},params:{autostart:!0}}};return t={gears:{size:-1,test:function(){return!(!window.google||!window.google.gears)},methods:{init:function(){var e;(e=this.db=google.gears.factory.create("beta.database")).open(i(this.name)),e.execute(a.sql.create).close()},get:function(e){var t,i,r=a.sql.get,o=this.db;return o.execute("BEGIN").close(),t=o.execute(r,[e]),i=t.isValidRow()?t.field(0):null,t.close(),o.execute("COMMIT").close(),i},set:function(e,t){var i=a.sql.remove,r=a.sql.set,o=this.db;return o.execute("BEGIN").close(),o.execute(i,[e]).close(),o.execute(r,[e,t]).close(),o.execute("COMMIT").close(),t},remove:function(e){a.sql.get;var t=a.sql.remove,i=this.db;return i.execute("BEGIN").close(),i.execute(t,[e]).close(),i.execute("COMMIT").close(),!0},iterate:function(e,t){var i,r=a.sql.keys;for(i=this.db.execute(r);i.isValidRow();)e.call(t||this,i.field(0),i.field(1)),i.next();i.close()}}},globalstorage:{size:5242880,test:function(){if(!window.globalStorage)return!1;var e="127.0.0.1";this.o&&this.o.domain&&(e=this.o.domain);try{globalStorage[e];return!0}catch(t){return window.console&&window.console.warn&&console.warn("globalStorage exists, but couldn't use it because your browser is running on domain:",e),!1}},methods:{key:function(e){return i(this.name)+i(e)},init:function(){this.store=globalStorage[this.o.domain]},get:function(e){return e=this.key(e),this.store.getItem(e)},set:function(e,t){return e=this.key(e),this.store.setItem(e,t),t},remove:function(e){var t;return e=this.key(e),t=this.store.getItem[e],this.store.removeItem(e),t}}},localstorage:{size:-1,test:function(){try{return!(!window.localStorage||void 0!=window.localStorage.setItem("test",null))&&(!/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)||(RegExp.$1>=9||"file:"!=window.location.protocol&&!!window.localStorage))}catch(e){return!1}},methods:{key:function(e){return this.name+">"+e},init:function(){this.store=localStorage},get:function(e){return e=this.key(e),this.store.getItem(e)},set:function(e,t){return e=this.key(e),this.store.setItem(e,t),t},remove:function(e){var t;return e=this.key(e),t=this.store.getItem(e),this.store.removeItem(e),t},iterate:function(e,t){for(var i,r,o=this.store,n=0;n<o.length;n++)2==(r=(i=o.key(n)).split(">")).length&&r[0]==this.name&&e.call(t||this,r[1],o.getItem(i))}}},ie:{prefix:"_persist_data-",size:65536,test:function(){return!!window.ActiveXObject},make_userdata:function(e){var t=document.createElement("div");return t.id=e,t.style.display="none",t.addBehavior("#default#userdata"),document.body.appendChild(t),t},methods:{init:function(){var e=t.ie.prefix+i(this.name);this.el=t.ie.make_userdata(e),this.o.defer&&this.load()},get:function(e){return e=i(e),this.o.defer||this.load(),this.el.getAttribute(e)},set:function(e,t){return e=i(e),this.el.setAttribute(e,t),this.o.defer||this.save(),t},remove:function(e){var t;return e=i(e),this.o.defer||this.load(),t=this.el.getAttribute(e),this.el.removeAttribute(e),this.o.defer||this.save(),t},load:function(){this.el.load(i(this.name))},save:function(){this.el.save(i(this.name))}}},cookie:{delim:":",size:4e3,test:function(){return!!e.Cookie.enabled},methods:{key:function(e){return this.name+t.cookie.delim+e},get:function(e,t){return e=this.key(e),n.get(e)},set:function(e,t,i){return e=this.key(e),n.set(e,t,this.o),t},remove:function(e,t){return e=this.key(e),n.remove(e)}}},flash:{test:function(){try{if(!swfobject)return!1}catch(e){return!1}return swfobject.getFlashPlayerVersion().major>=8},methods:{init:function(){if(!t.flash.el){var e,i,r=a.flash;(e=document.createElement("div")).id=r.div_id,(i=document.createElement("div")).id=r.id,e.appendChild(i),document.body.appendChild(e),t.flash.el=swfobject.createSWF({id:r.id,data:this.o.swf_path||r.path,width:r.size.w,height:r.size.h},r.params,r.id)}this.el=t.flash.el},get:function(e){return e=i(e),this.el.get(this.name,e)},set:function(e,t){return e=i(e),this.el.set(this.name,e,t)},remove:function(e){return e=i(e),this.el.remove(this.name,e)}}}},r=function(){for(var i,r,n=a.methods,s=a.search_order,l=0,c=n.length;l<c;l++)e.Store.prototype[n[l]]=o;e.type=null,e.size=-1;for(var u=0,h=s.length;!e.type&&u<h;u++)if((i=t[s[u]]).test()){e.type=s[u],e.size=i.size;for(r in i.methods)e.Store.prototype[r]=i.methods[r]}e._init=!0},e={VERSION:"0.3.1",type:null,size:0,add:function(e){t[e.id]=e,a.search_order=[e.id].concat(a.search_order),r()},remove:function(e){var i=s(a.search_order,e);i<0||(a.search_order.splice(i,1),delete t[e],r())},Cookie:n,Store:function(t,i){if(!a.name_re.exec(t))throw new Error("Invalid name");if(!e.type)throw new Error("No suitable storage found");i=i||{},this.name=t,i.domain=i.domain||location.hostname||"localhost",i.domain=i.domain.replace(/:\d+$/,""),i.domain="localhost"==i.domain?"":i.domain,this.o=i,i.expires=i.expires||730,i.path=i.path||"/",this.o.search_order&&(a.search_order=this.o.search_order,r()),this.init()}},r(),e}();
//# sourceMappingURL=/sm/643a4abefde8bf3538d80fdf1a7200e891ab58407f39d96f950e8f898f30cac3.map